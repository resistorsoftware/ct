- paginated_products = Spree::Config.searcher.products if params.key?(:keywords) 
- paginated_products ||= products 

- if products.empty?
  = t(:no_products_found)
 
- if products.any?
  .results
  - products.each do |product|   
    %div{:id => "product_#{product.id}", :class => "item"}
      .thumb
        = link_to small_image(product), product 
      .description
        -# links this to a custom view helper to make it easier to maintain what this looks like
        = product_details(product, @taxon.parent.nil? ? @taxon.name.downcase.singularize : @taxon.parent.name.downcase.singularize)
        %ul
          %li
            %h2
              %strong= product.name
          %li
            %strong Size:
          %li
            %strong Serv. Desc.
          %li
            %strong> Speed Rating
          %li
            %strong Performance
        %ul.price
          %li
            %h3
              %strong #{product_price(product)}
              each
      
.clearfix &nbsp; 

%hr.space
 
- if paginated_products.respond_to?(:total_pages)
  - params.delete(:search)
  - params.delete(:taxon)
  = will_paginate(paginated_products, :previous_label => "&#171; #{t('previous')}",:next_label => "#{t('next')} &#187;")
 
%hr.space
